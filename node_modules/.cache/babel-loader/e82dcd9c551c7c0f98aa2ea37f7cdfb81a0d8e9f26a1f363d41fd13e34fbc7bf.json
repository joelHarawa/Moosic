{"ast":null,"code":"import _slicedToArray from\"C:/Users/Joel/WebstormProjects/Moosic/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Joel/WebstormProjects/Moosic/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var moodData=require(\"./moods.json\");var Input=styled.input(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #0E0B16;\\n  color: #A239CA;\\n  border: none;\\n  width: 100%;\\n  font-size: 25px;\\n  padding-top: 20px;\\n  outline: none;\\n\"])));var Dropdown=styled.ul(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    list-style: none;\\n    padding-left: 0;\\n\"])));var Result=styled.li(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    color: #A239CA;\\n    text-decoration: none;\\n    font-size: 18px;\\n    padding: 2px;\\n    margin: 0;\\n    &:hover {\\n      color: white;\\n      cursor: pointer;\\n      background-color: #4717F6;\\n    }\\n\"])));var SearchMood=function SearchMood(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userID=_useState2[0],setUserID=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];useEffect(function(){if(localStorage.getItem(\"token\")){setToken(localStorage.getItem(\"token\"));}});var trackURI=[\"spotify:track:6Kj17Afjo1OKJYpf5VzCeo\",\"spotify:track:5r30gHLxvhp60XMc5TIIMh\",\"spotify:track:4Flfb4fGscN9kXPOduQLrv\"];useEffect(function(){if(token){fetch(\"https://api.spotify.com/v1/me\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(data){setUserID(data.id);}).catch(function(error){console.error(\"Error fetching user data:\",error);});}},[token]);var searchFunction=function searchFunction(){var playlistData={name:\"My Mood Playlist\",description:\"A playlist based on my current mood\",public:false};fetch(\"https://api.spotify.com/v1/users/\".concat(userID,\"/playlists\"),{method:'POST',headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(playlistData)}).then(function(response){return response.json();}).then(function(data){console.log('Playlist created:',data);fetch(\"https://api.spotify.com/v1/playlists/\".concat(data.id,\"/tracks?uris=\").concat(trackURI),{method:'POST',headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(data){console.log('Track added to playlist:',data);history.push('/view');// Handle the track addition response\n}).catch(function(error){console.error('Error adding track to playlist:',error);console.log(\"I can put a ball in the endzone\");// Handle errors\n});// Handle the playlist creation response\n}).catch(function(error){console.error('Error creating playlist:',error);// Handle errors\n});};var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchInput=_useState6[0],setSearchInput=_useState6[1];var handleSearch=function handleSearch(event){setSearchInput(event.target.value);};var filteredMoods=moodData.moods.filter(function(mood){return mood.toLowerCase().includes(searchInput.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Enter your mood\",value:searchInput,onChange:handleSearch}),searchInput.length>0&&/*#__PURE__*/_jsx(Dropdown,{children:filteredMoods.map(function(mood,index){return/*#__PURE__*/_jsx(Link,{to:\"/view\",children:/*#__PURE__*/_jsx(Result,{onClick:searchFunction,children:mood},index)},index);})})]});};export default SearchMood;","map":{"version":3,"names":["React","useEffect","useState","styled","Link","jsx","_jsx","jsxs","_jsxs","moodData","require","Input","input","_templateObject","_taggedTemplateLiteral","Dropdown","ul","_templateObject2","Result","li","_templateObject3","SearchMood","_useState","_useState2","_slicedToArray","userID","setUserID","_useState3","_useState4","token","setToken","localStorage","getItem","trackURI","fetch","headers","Authorization","concat","then","response","json","data","id","catch","error","console","searchFunction","playlistData","name","description","public","method","body","JSON","stringify","log","history","push","_useState5","_useState6","searchInput","setSearchInput","handleSearch","event","target","value","filteredMoods","moods","filter","mood","toLowerCase","includes","children","type","placeholder","onChange","length","map","index","to","onClick"],"sources":["C:/Users/Joel/WebstormProjects/Moosic/client/src/components/SearchMood.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nlet moodData = require(\"./moods.json\");\r\n\r\nconst Input = styled.input`\r\n  background-color: #0E0B16;\r\n  color: #A239CA;\r\n  border: none;\r\n  width: 100%;\r\n  font-size: 25px;\r\n  padding-top: 20px;\r\n  outline: none;\r\n`;\r\n\r\nconst Dropdown = styled.ul`\r\n    list-style: none;\r\n    padding-left: 0;\r\n`;\r\n\r\nconst Result = styled.li`\r\n    color: #A239CA;\r\n    text-decoration: none;\r\n    font-size: 18px;\r\n    padding: 2px;\r\n    margin: 0;\r\n    &:hover {\r\n      color: white;\r\n      cursor: pointer;\r\n      background-color: #4717F6;\r\n    }\r\n`;\r\n\r\n\r\n\r\nconst SearchMood = () => {\r\n    const [userID, setUserID] = useState(\"\");\r\n    const [token, setToken] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"token\")) {\r\n            setToken(localStorage.getItem(\"token\"))\r\n        }\r\n    })\r\n\r\n\r\n    const trackURI = [\"spotify:track:6Kj17Afjo1OKJYpf5VzCeo\", \"spotify:track:5r30gHLxvhp60XMc5TIIMh\", \"spotify:track:4Flfb4fGscN9kXPOduQLrv\"]\r\n\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            fetch(\"https://api.spotify.com/v1/me\", {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            })\r\n                .then((response) => response.json())\r\n                .then((data) => {\r\n                    setUserID(data.id);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error fetching user data:\", error);\r\n                })\r\n        }\r\n    }, [token]);\r\n\r\n\r\n    const searchFunction = () => {\r\n        const playlistData = {\r\n            name: \"My Mood Playlist\",\r\n            description: \"A playlist based on my current mood\",\r\n            public: false\r\n        }\r\n\r\n        fetch(`https://api.spotify.com/v1/users/${userID}/playlists`, {\r\n            method: 'POST',\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(playlistData)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log('Playlist created:', data);\r\n\r\n                fetch(`https://api.spotify.com/v1/playlists/${data.id}/tracks?uris=${trackURI}`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`\r\n                    }\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log('Track added to playlist:', data);\r\n                        history.push('/view');\r\n                        // Handle the track addition response\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Error adding track to playlist:', error);\r\n                        console.log(\"I can put a ball in the endzone\")\r\n                        // Handle errors\r\n                    });\r\n                // Handle the playlist creation response\r\n            })\r\n\r\n            .catch(error => {\r\n                console.error('Error creating playlist:', error);\r\n                // Handle errors\r\n            });\r\n    }\r\n\r\n\r\n\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchInput(event.target.value);\r\n    }\r\n\r\n    const filteredMoods = moodData.moods.filter((mood) =>\r\n        mood.toLowerCase().includes(searchInput.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Input\r\n                type=\"text\"\r\n                placeholder=\"Enter your mood\"\r\n                value={searchInput}\r\n                onChange={handleSearch}\r\n            />\r\n            {searchInput.length > 0 && (\r\n            <Dropdown>\r\n                {filteredMoods.map((mood, index) => (\r\n                    <Link to=\"/view\" key={index}>\r\n                        <Result onClick={searchFunction} key={index}>{mood}</Result>\r\n                    </Link>\r\n                ))}\r\n            </Dropdown>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchMood;"],"mappings":"0UAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAAQC,IAAI,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACtC,GAAI,CAAAC,QAAQ,CAAGC,OAAO,CAAC,cAAc,CAAC,CAEtC,GAAM,CAAAC,KAAK,CAAGR,MAAM,CAACS,KAAK,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,wJAQzB,CAED,GAAM,CAAAC,QAAQ,CAAGZ,MAAM,CAACa,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,uDAGzB,CAED,GAAM,CAAAI,MAAM,CAAGf,MAAM,CAACgB,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAN,sBAAA,yNAWvB,CAID,GAAM,CAAAO,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAA4BpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA0BzB,QAAQ,CAAC,EAAE,CAAC,CAAA0B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB3B,SAAS,CAAC,UAAM,CACZ,GAAI8B,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CAC/BF,QAAQ,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC3C,CACJ,CAAC,CAAC,CAGF,GAAM,CAAAC,QAAQ,CAAG,CAAC,sCAAsC,CAAE,sCAAsC,CAAE,sCAAsC,CAAC,CAGzIhC,SAAS,CAAC,UAAM,CACZ,GAAI4B,KAAK,CAAE,CACPK,KAAK,CAAC,+BAA+B,CAAE,CACnCC,OAAO,CAAE,CACLC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAClC,CACJ,CAAC,CAAC,CACGS,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACnCF,IAAI,CAAC,SAACG,IAAI,CAAK,CACZf,SAAS,CAACe,IAAI,CAACC,EAAE,CAAC,CACtB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACrD,CAAC,CAAC,CACV,CACJ,CAAC,CAAE,CAACf,KAAK,CAAC,CAAC,CAGX,GAAM,CAAAiB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,GAAM,CAAAC,YAAY,CAAG,CACjBC,IAAI,CAAE,kBAAkB,CACxBC,WAAW,CAAE,qCAAqC,CAClDC,MAAM,CAAE,KACZ,CAAC,CAEDhB,KAAK,qCAAAG,MAAA,CAAqCZ,MAAM,eAAc,CAC1D0B,MAAM,CAAE,MAAM,CACdhB,OAAO,CAAE,CACLC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAAE,CAChC,cAAc,CAAE,kBACpB,CAAC,CACDuB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,YAAY,CACrC,CAAC,CAAC,CACGT,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACVI,OAAO,CAACU,GAAG,CAAC,mBAAmB,CAAEd,IAAI,CAAC,CAEtCP,KAAK,yCAAAG,MAAA,CAAyCI,IAAI,CAACC,EAAE,kBAAAL,MAAA,CAAgBJ,QAAQ,EAAI,CAC7EkB,MAAM,CAAE,MAAM,CACdhB,OAAO,CAAE,CACLC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAClC,CACJ,CAAC,CAAC,CACGS,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACVI,OAAO,CAACU,GAAG,CAAC,0BAA0B,CAAEd,IAAI,CAAC,CAC7Ce,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC,CACrB;AACJ,CAAC,CAAC,CACDd,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvDC,OAAO,CAACU,GAAG,CAAC,iCAAiC,CAAC,CAC9C;AACJ,CAAC,CAAC,CACN;AACJ,CAAC,CAAC,CAEDZ,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD;AACJ,CAAC,CAAC,CACV,CAAC,CAID,IAAAc,UAAA,CAAsCxD,QAAQ,CAAC,EAAE,CAAC,CAAAyD,UAAA,CAAAnC,cAAA,CAAAkC,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC5BF,cAAc,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACtC,CAAC,CAED,GAAM,CAAAC,aAAa,CAAGzD,QAAQ,CAAC0D,KAAK,CAACC,MAAM,CAAC,SAACC,IAAI,QAC7C,CAAAA,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACX,WAAW,CAACU,WAAW,CAAC,CAAC,CAAC,EAC1D,CAAC,CAED,mBACI9D,KAAA,QAAAgE,QAAA,eACIlE,IAAA,CAACK,KAAK,EACF8D,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BT,KAAK,CAAEL,WAAY,CACnBe,QAAQ,CAAEb,YAAa,CAC1B,CAAC,CACDF,WAAW,CAACgB,MAAM,CAAG,CAAC,eACvBtE,IAAA,CAACS,QAAQ,EAAAyD,QAAA,CACJN,aAAa,CAACW,GAAG,CAAC,SAACR,IAAI,CAAES,KAAK,qBAC3BxE,IAAA,CAACF,IAAI,EAAC2E,EAAE,CAAC,OAAO,CAAAP,QAAA,cACZlE,IAAA,CAACY,MAAM,EAAC8D,OAAO,CAAElC,cAAe,CAAA0B,QAAA,CAAcH,IAAI,EAAZS,KAAqB,CAAC,EAD1CA,KAEhB,CAAC,EACV,CAAC,CACI,CACT,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAzD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}